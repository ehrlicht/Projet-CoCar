<!DOCTYPE html>
<html lang="en">
<head>
    <script src="js/jquery-3.3.1.js"></script>
    <meta charset="UTF-8">
    <title>Interface chauffeur</title>
    <link href="css/semantic.min.css" rel="stylesheet" type="text/css">
</head>
<body>
    <div id = "container" class="ui segment"></div>
    <script>

        $.get("http://groups.cowaboo.net/2018/group01/public/api/observatory?observatoryId=coCar", function( data ) {
            $( ".result" ).html( data );
            var values = data.dictionary.entries;
            var drivers = new Array();
            for (var key in values) {
                var driver = JSON.parse(values[key].value);
                drivers.push(driver);
                console.log(driver)
            }
            afficherListeDrivers(drivers);
            document.write(drivers);
            alert( "Load was performed." );
        });

        function afficherListeDrivers (drivers) {
            $("#container").append("" +
                "<table class=\"ui inverted table\">" +
                "<thead style=\"background-color: #fffc28\">\n" +
                "  <tr>\n" +
                "      <th>Chauffeur</th>\n" +
                "      <th>Email</th>\n" +
                "      <th>Places disponibles</th>\n" +
                "      <th>RÃ©gion</th>\n" +
                "  </tr>\n" +
                "</thead>\n" +
                "<tbody>\n"
            );
            for (var i = 0; i < drivers.length; i++) {
                $("#container").append("<tr><td>drivers[i].prenom drivers[i].nom</td><td>drivers[i].email</td><td>drivers[i].carCapacity</td><td>drivers[i].region</td></tr>");
            }
            $("#container").append(" " +
                "</tbody>\n" +
                "</table>"
            );

        }
    </script>
</body>
</html>